<!DOCTYPE html>
<html lang="zh-Hants">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>自由潛水</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
      integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="./style/style購物.css" />

    <style type="text/css">
      .container {
        position: relative;
        width: 100%;

        height: 170vh;
        padding-top: 100px;

        overflow: hidden;
        border-radius: 10px;
        /* box-shadow: 0px 4px 20px 1px rgba(3, 3, 3, 0.5); */
        display: flex;
      }
      .container .tabBtns {
        flex-basis: 15%;
        padding: 10px;
        background-color: rgb(181, 162, 125);
        border-right: 1px solid rgb(181, 162, 125);
        /* border: 2px solid red; */
        color: white;
      }
      .container .tabContents {
        flex-basis: 85%;
        background-color: wheat;
        /* background-image: linear-gradient(
          to right,
          #b5fefe,
          rgb(200, 234, 243)
        ); */
        padding: 20px 30px 20px 100px;
        font-size: 20px;
        position: sticky;
        /* z-index: -1; */
      }
      .product-list {
        width: 80%;
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 35px;
      }
      .product {
        border: 1px solid #ddd;
        background-color: rgb(247, 244, 238);
        /* border: 5px solid red; */
        padding: 15px;
        text-align: center;
        border-radius: 10px;
        z-index: 1;
      }
      div.product img {
        width: 200px;
      }
      div.product a {
        display: block; /* 確保 <a> 是區塊級元素，能夠包裹整個圖片 */
      }
      .tabContents h2 {
        padding-bottom: 10px;
      }
      .tabContents h3 {
        position: absolute;
        right: 20px;
        bottom: 20px;
        color: #555;
      }
      .tabContents .contents {
        display: none;
      }
      .tabContents .show {
        display: block;
      }
      .tabBtns .btn {
        text-align: center;
        padding: 20px;
        margin-bottom: 10px;
        border-radius: 10px 30px;
        text-transform: uppercase;
        font-size: 20px;
        cursor: pointer;
      }
      .tabBtns .btn:hover {
        background-color: #846732;
      }
      .tabBtns .show {
        background-color: rgb(132, 103, 50);
      }
      /* 響應式設計，當螢幕較小時自動調整為 2 欄 */
      @media (max-width: 768px) {
        .product-list {
          grid-template-columns: repeat(2, 1fr); /* 2 欄排列 */
        }
      }

      /* 當螢幕更小時，調整為單欄排列 */
      @media (max-width: 480px) {
        .product-list {
          grid-template-columns: 1fr; /* 單欄排列 */
        }
      }
    </style>
  </head>
  <body>
    <header>
      <nav>
        <ul>
          <section class="logo">
            <img src="./裝備照片jpg/person-swimming-solid.svg" alt="自由潛水" />
            <a href="../1.潛水網站/index.html" style="text-decoration: none"
              ><h1>自由潛水</h1></a
            >
          </section>
          <li class="dropdown-menu1">
            <a href="#"><i class="fa-solid fa-location-pin"></i> 潛水裝備</a>
            <ul class="dropdown-menu">
              <li><a href="../3.裝備購物/購物首頁.html">自潛蛙鞋</a></li>
              <li>
                <a
                  href="http://127.0.0.1:5501/3.%E8%A3%9D%E5%82%99%E8%B3%BC%E7%89%A9/%E8%B3%BC%E7%89%A9%E9%A6%96%E9%A0%81.html?tab=content_2"
                  >面鏡/呼吸管</a
                >
              </li>
              <li>
                <a
                  href="http://127.0.0.1:5501/3.%E8%A3%9D%E5%82%99%E8%B3%BC%E7%89%A9/%E8%B3%BC%E7%89%A9%E9%A6%96%E9%A0%81.html?tab=content_3"
                  >防寒衣</a
                >
              </li>
            </ul>
          </li>
          <li class="dropdown-menu2">
            <a href="#"
              ><i class="fa-solid fa-right-to-bracket"></i> 課程報名</a
            >
            <ul class="dropdown-menu">
              <li><a href="#">自潛課程</a></li>
              <li><a href="#">水肺課程</a></li>
              <li><a href="#">教練培訓課程</a></li>
            </ul>
          </li>
          <li class="dropdown-menu3">
            <a href="#"><i class="fa-solid fa-book"></i> 回訓專區</a>
            <ul class="dropdown-menu">
              <li><a href="#">潛水深度練習</a></li>
              <li><a href="#">自潛安全戒護</a></li>
              <li><a href="#">平靜水域練習</a></li>
            </ul>
          </li>
          <li class="dropdown-menu4">
            <a href="#"><i class="fa-regular fa-address-book"></i> 服務據點</a>
            <ul class="dropdown-menu">
              <li><a href="#">東北角</a></li>
              <li><a href="#">恆春</a></li>
              <li><a href="#">小琉球</a></li>
            </ul>
          </li>
          <li>
            <a href="#"><i class="fas fa-user"></i></a>
          </li>
          <li>
            <a href="#" onclick="toggleCart()">
              <i class="fas fa-shopping-cart"></i
            ></a>
          </li>
        </ul>
      </nav>
    </header>

    <div class="container">
      <div class="tabBtns">
        <div class="btn show" onclick="showContents(this,'content_1')">
          自潛蛙鞋
        </div>
        <div class="btn" onclick="showContents(this,'content_2')">
          面鏡/呼吸管
        </div>
        <div class="btn" onclick="showContents(this,'content_3')">防寒衣</div>
      </div>

      <div class="tabContents">
        <div class="contents show" id="content_1">
          <h2>自潛蛙鞋</h2>

          <div class="product-list">
            <div class="product" data-id="1" data-name="產品A" data-price="100">
              <a href="./蛙鞋01.html">
                <img src="./裝備照片jpg/蛙鞋01v3.webp" alt="" />
              </a>
              <h4>V3碳纖長蛙</h4>
              <p>價格: $14900</p>
            </div>

            <div class="product" data-id="2" data-name="產品B" data-price="200">
              <a href="./蛙鞋02.html">
                <img src="./裝備照片jpg/蛙鞋02-1.webp" alt="" />
              </a>
              <h4>Molchanovs碳纖長蛙</h4>
              <p>價格: $17500</p>
            </div>
            <div class="product" data-id="3" data-name="產品C" data-price="300">
              <img src="./裝備照片jpg/蛙鞋03-1.webp" alt="" />
              <h4>FinsGhost塑膠長蛙</h4>
              <p>價格: $5200</p>
            </div>
            <div class="product" data-id="4" data-name="產品D" data-price="400">
              <img src="./裝備照片jpg/蛙鞋04-1.webp" alt="" />
              <h4>PATHOS碳纖長蛙</h4>
              <p>價格: $12800</p>
            </div>
            <div class="product" data-id="1" data-name="產品E" data-price="100">
              <img src="./裝備照片jpg/蛙鞋05.webp" alt="" />
              <h4>玻纖長蛙-清透銀河</h4>
              <p>價格: $5900</p>
            </div>
            <div class="product" data-id="2" data-name="產品F" data-price="200">
              <img src="./裝備照片jpg/蛙鞋06.webp" alt="" />
              <h4>玻纖長蛙-清透花</h4>
              <p>價格: $5900</p>
            </div>
            <div class="product" data-id="3" data-name="產品G" data-price="300">
              <img src="./裝備照片jpg/蛙鞋07.webp" alt="" />
              <h4>MANTRA碳纖長蛙</h4>
              <p>價格: $18500</p>
            </div>
            <div class="product" data-id="4" data-name="產品H" data-price="400">
              <img src="./裝備照片jpg/蛙鞋08.webp" alt="" />
              <h4>PRANA碳纖長蛙</h4>
              <p>價格: $9350</p>
            </div>
          </div>
        </div>

        <div class="contents" id="content_2">
          <h2>面鏡/呼吸管</h2>
          <div class="product-list">
            <div class="product" data-id="1" data-name="產品A" data-price="100">
              <a href="./面鏡01.html">
                <img src="./裝備照片jpg/面鏡呼吸管/蛙鏡01-1.webp" alt="" />
              </a>
              <h4>MICROMASK面鏡</h4>
              <p>價格: $1700</p>
            </div>
            <div class="product" data-id="2" data-name="產品B" data-price="200">
              <a href="./面鏡02.html">
                <img src="./裝備照片jpg/面鏡呼吸管/蛙鏡02-1.webp" alt="" />
              </a>
              <h4>FREEDOMCEOS面鏡</h4>
              <p>價格: $2500</p>
            </div>
            <div class="product" data-id="3" data-name="產品C" data-price="300">
              <img src="./裝備照片jpg/面鏡呼吸管/呼吸管03-1.webp" alt="" />
              <h4>MED軟式呼吸管</h4>
              <p>價格: $590</p>
            </div>
            <div class="product" data-id="4" data-name="產品D" data-price="400">
              <img src="./裝備照片jpg/面鏡呼吸管/蛙鏡04-1.webp" alt="" />
              <h4>SPHERAX面鏡</h4>
              <p>價格: $2650</p>
            </div>
            <div class="product" data-id="1" data-name="產品E" data-price="100">
              <img src="./裝備照片jpg/面鏡呼吸管/蛙鏡05-1.webp" alt="" />
              <h4>LEADERFINS面鏡呼吸管組</h4>
              <p>價格: $1250</p>
            </div>
            <div class="product" data-id="2" data-name="產品F" data-price="200">
              <img src="./裝備照片jpg/面鏡呼吸管/呼吸管06-1.webp" alt="" />
              <h4>APNEASNORKEL軟式呼吸管</h4>
              <p>價格: $750</p>
            </div>
            <div class="product" data-id="3" data-name="產品G" data-price="300">
              <img src="./裝備照片jpg/面鏡呼吸管/呼吸管07-1.webp" alt="" />
              <h4>SHIFT軟式呼吸管</h4>
              <p>價格: $590</p>
            </div>
            <div class="product" data-id="4" data-name="產品H" data-price="400">
              <img src="./裝備照片jpg/面鏡呼吸管/呼吸管08-1.webp" alt="" />
              <h4>ZoomPro呼吸管</h4>
              <p>價格: $700</p>
            </div>
          </div>
        </div>

        <div class="contents" id="content_3">
          <h2>防寒衣</h2>
          <div class="product-list">
            <div class="product" data-id="1" data-name="產品A" data-price="100">
              <a href="./防寒衣01.html">
                <img src="./裝備照片jpg/防寒衣/01-1.webp" alt="" />
              </a>
              <h4>TRUDIVE防寒衣女款</h4>
              <p>價格: $12600</p>
            </div>
            <div class="product" data-id="2" data-name="產品B" data-price="200">
              <a href="./防寒衣02.html">
                <img src="./裝備照片jpg/防寒衣/02-1.webp" alt="" />
              </a>
              <h4>TRUDIVE防寒衣男款</h4>
              <p>價格: $12600</p>
            </div>
            <div class="product" data-id="3" data-name="產品C" data-price="300">
              <img src="./裝備照片jpg/防寒衣/03.webp" alt="" />
              <h4>MOBBY'S訂製款3mm</h4>
              <p>價格: $12300</p>
            </div>
            <div class="product" data-id="4" data-name="產品D" data-price="400">
              <img src="./裝備照片jpg/防寒衣/04-1.webp" alt="" />
              <h4>AIRFUSION防寒衣</h4>
              <p>價格: $4900</p>
            </div>
            <div class="product" data-id="1" data-name="產品E" data-price="100">
              <img src="./裝備照片jpg/防寒衣/05.png" alt="" />
              <h4>TRUREAL防寒衣</h4>
              <p>價格: $7000</p>
            </div>
            <div class="product" data-id="2" data-name="產品F" data-price="200">
              <img src="./裝備照片jpg/防寒衣/06.png" alt="" />
              <h4>TRUDIVE防寒衣5mm</h4>
              <p>價格: $9500</p>
            </div>
            <div class="product" data-id="3" data-name="產品G" data-price="300">
              <img src="./裝備照片jpg/防寒衣/07.png" alt="" />
              <h4>TRUDIVE防寒衣男款</h4>
              <p>價格: $9000</p>
            </div>
            <div class="product" data-id="4" data-name="產品H" data-price="400">
              <img src="./裝備照片jpg/防寒衣/08.webp" alt="" />
              <h4>BARREL防寒衣</h4>
              <p>價格: $9600</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 購物車側邊欄 -->
    <div class="cart" id="cart">
      <div class="cart-header">
        <div class="cart-container">
          <span>購物車</span>
          <button class="close-btn" onclick="toggleCart()">✖</button>
          <table>
            <thead>
              <tr>
                <th>商品名稱</th>
                <th>數量</th>
                <th>價錢</th>
                <th>刪除</th>
              </tr>
            </thead>
            <tbody id="cart-items">
              <!-- 購物車內容將動態添加 -->
            </tbody>
          </table>
          <div class="Checkout">
            <h3 id="total-price">總金額：0 元</h3>
            <a href="./購物車.html" style="text-decoration: none"
              ><button class="Button-Checkout">訂單結帳</button></a
            >
          </div>
        </div>
      </div>
    </div>

    <footer>
      <section class="logo">
        <h3>
          <img src="./images/person-swimming-solid.svg" alt="logo" />自由潛水
        </h3>
      </section>
      <section class="links">
        <a href="#"><img src="./Icons/facebook.svg" alt="facebook" /></a>
        <a href="#"><img src="./Icons/instagram.svg" alt="instagram" /></a>
        <a href="#"><img src="./Icons/twitter.svg" alt="twitter" /></a>
        <a href="#"><img src="./Icons/youtube.svg" alt="youtube" /></a>
      </section>
    </footer>
    <script type="text/JavaScript">
                  // function showContents(x, contentId) {
                  //   var tabs = document.querySelectorAll(".btn");
                  //   var contents = document.querySelectorAll(".contents");

                  //   tabs.forEach((tab) => tab.classList.remove("show"));
                  //   contents.forEach((content) => content.classList.remove("show"));

                  //   x.classList.add("show");
                  //   document.getElementById(contentId).classList.add("show");

                  // }

                  // 測試區
                  function showContents(x, contentId) {
        var tabs = document.querySelectorAll(".btn"); // 抓取所有按鈕
        var contents = document.querySelectorAll(".contents"); // 抓取所有內容區塊

        // 移除所有按鈕和內容的 'show' 類別
        tabs.forEach((tab) => tab.classList.remove("show"));
        contents.forEach((content) => content.classList.remove("show"));

        // 設定目前點擊的按鈕與內容區塊
        x.classList.add("show");
        document.getElementById(contentId).classList.add("show");

        // 更新網址參數
        var url = new URL(window.location);
        url.searchParams.set("tab", contentId); // 設定 `tab` 參數
        window.history.pushState(null, "", url); // 更新網址但不重新載入頁面
      }

      // 🚀 當頁面載入時，自動切換到對應的標籤
      window.onload = function () {
        var params = new URLSearchParams(window.location.search);
        var tabId = params.get("tab"); // 取得 `tab` 參數值

        if (tabId) {
          var targetTab = document.querySelector(`[onclick*="${tabId}"]`);
          if (targetTab) {
            targetTab.click(); // 觸發對應按鈕的點擊事件
          }
        }
      };

            // 測試區 底部
            function toggleCart() {
        document.getElementById("cart").classList.toggle("open");
      }

      document.addEventListener("DOMContentLoaded", function () {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        const cartItemsContainer = document.getElementById("cart-items");
        const totalPriceContainer = document.getElementById("total-price");

        function renderCart() {
          cartItemsContainer.innerHTML = "";
          let totalPrice = 0;

          cart.forEach((item) => {
            totalPrice += item.total;
            const row = document.createElement("tr");
            row.innerHTML = `
              <td>${item.name}</td>
              <td>${item.quantity}</td>
              <td>${item.price} 元</td>
              <td><button class="btn1" onclick="removeFromCart('${item.pid}')"><i class="fas fa-trash-alt"></i></button></td>
              `;
            cartItemsContainer.appendChild(row);
          });

          totalPriceContainer.textContent = `總金額：${totalPrice} 元`;
          localStorage.setItem("cart", JSON.stringify(cart));
        }

        window.updateQuantity = function (pid, change) {
          let item = cart.find((item) => item.pid === pid);
          if (item) {
            item.quantity += change;
            if (item.quantity < 1) {
              item.quantity = 1; // 防止數量變成 0
            }
            item.total = item.quantity * item.price; // 確保價格計算正確
            renderCart();
          }
        };

        window.removeFromCart = function (pid) {
          cart = cart.filter((item) => item.pid !== pid);
          renderCart();
        };

        renderCart();
      });
    </script>
  </body>
</html>
